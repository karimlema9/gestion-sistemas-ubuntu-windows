{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"UF2 - Gesti\u00f3 de la informaci\u00f3 i de recursos en una xarxa Windows Tutorials de Windows Ubuntu Tutorials de Ubuntu","title":"Home"},{"location":"#uf2-gestio-de-la-informacio-i-de-recursos-en-una-xarxa","text":"","title":"UF2 - Gesti\u00f3 de la informaci\u00f3 i de recursos en una xarxa"},{"location":"#windows","text":"Tutorials de Windows","title":"Windows"},{"location":"#ubuntu","text":"Tutorials de Ubuntu","title":"Ubuntu"},{"location":"Ubuntu/","text":"Insta\u00b7laci\u00f3 i Configuraci\u00f3 de OpenLDAP 1 Instal\u00b7la OpenLDAP: 1. Crea un servidor amb OpenLDAP 1.1. Configuracions inicials al servidor En primer lloc configurem la xarxa, li donme una IP fixa al servidor. Tamb\u00e9 cal afegir la ip fixa m\u00e9s el nom del domini a l'arxiu /etc/hosts . 1.2. Instal\u00b7laci\u00f3 i configuraci\u00f3 dels paquets Instal\u00b7lem els paquets necessaris slapd ldap-utils -y . Despr\u00e9s executem la seguent comanda per configura el slapd . Omitim la configuraci\u00f3 del servidor OpenLDAP. Introduim el nom del domini lema.cat . Ara indiquem el nom de l'oraganitzaci\u00f3. I li donem una contrasenya. El motor de la BD la deixem per defecte MDB . Boorem la BD quan es purgen els paquets de slapd . Finalment Movem la BD antigua. 1.3. Creaci\u00f3 de l'esquema base amb un fitxer ldif Aquest exercici es realitzara en el seg\u00fcent punt. 2 Creaci\u00f3 de UO,grups i usuaris amb fitxers LDIF 2.1 Crea el domini, l'administrador, una uo, un grup i un usuari amb fitxers ldif Creem l'arxiu ldif per crear un grup. Creem l'arxiu ldif per crear una UO. Creem l'arxiu ldif per crear un usuari. Ara afegim la configuraci\u00f3 dels arxius ldif amb la seg\u00fcent comanda. Comprovem amb slapcat que tot s'ha creat correctament. 3 Configuraci\u00f3 d'un client OpenLDAP 3.1 Valida un client al domini El primer pass es configura la xarxa del client donant-li una IP fixa hi ha la porta denlla\u00e7 la IP del servidor. Ara cal instal\u00b7lar els seguent paquets. Configurem els paquets instal\u00b7lats anteriorment, ara indiquem la ip del servidor. Indiquem el nom del domini creat al servidor. Seleccionem la versi\u00f3 3 de LDAP . Deixem per defecte el metode dencriptaci\u00f3. Seleccionem que volem establir el root local. Indiquem que no ens demane login a la LDPA BD . Afegim el nom d'usuari per al root. Afegim una contrasenya per al root. Ara editem l'arxiu /etc/snnwitch.conf i afegim ldap despres de compat tal com surt a la seg\u00fcent captura. Ara editem l'arxiu /etc/pam.d/common-session i canviem el umaks amb umaks=077 . Ara editem l'arxiu /etc/pam.d/common-password i borrem el camp seleccionat a la captura use_authok . Ara editem l'arxiu /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf i afegim greeter-show-manual-login=true . Reiniciem l'ordinador i ja ens podrem logejar amb l'usuari creat anteriorment dins de OpenLDAP. 4 Esquema referent a LDAP 4.1 Cerca la informaci\u00f3 referent als esquemes del LDAP que hem utilitzat quan hem creat la uo, el grup i l'usuari 5 Atributs Obligatoris i Opcionals 5.1 Quins s\u00f3n els atributs obligatoris i els opcionals per a les classes que hem treballat? Arxiu de grup. `posixGroup` Atributs Obligatoris: cn $ gidNumber Atributs Opcionals: userPassword $ memberUid $ member $ description `top` Atributs Obligatoris: member $ cn Atributs Opcionals: businessCategory $ seeAlso $ owner $ ou $ o $ description Arxiu de UO. `organizationalUnit` Atributs Obligatoris: ou Atributs Opcionals: userPassword $ searchGuide $ seeAlso $ businessCategory $ x121Address $ registeredAddress $ destinationIndicator $ preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $ telephoneNumber $ internationaliSDNNumber $ facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $ postalAddress $ physicalDeliveryOfficeName $ st $ l $ description `top` Atributs Obligatoris: member $ cn Atributs Opcionals: businessCategory $ seeAlso $ owner $ ou $ o $ description Arxiu d'usuaris. `inetOrgPerson` Atributs Obligatoris: - Atributs Opcionals: audio $ businessCategory $ carLicense $ departmentNumber $ displayName $ employeeNumber $ employeeType $ givenName $ homePhone $ homePostalAddress $ initials $ jpegPhoto $ labeledURI $ mail $ manager $ mobile $ o $ pager $ photo $ roomNumber $ secretary $ uid $ userCertificate $ x500uniqueIdentifier $ preferredLanguage $ userSMIMECertificate $ userPKCS12 `organizationalPerson` Atributs Obligatoris: - Atributs Opcionals: title $ x121Address $ registeredAddress $ destinationIndicator $ preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $ telephoneNumber $ internationaliSDNNumber $ facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $ postalAddress $ physicalDeliveryOfficeName $ ou $ st $ l `person` Atributs Obligatoris: - Atributs Opcionals: businessCategory $ x121Address $ registeredAddress $ destinationIndicator $ preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $ telephoneNumber $ internationaliSDNNumber $ facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $ postalAddress $ physicalDeliveryOfficeName $ st $ l `posixAccount` Atributs Obligatoris: cn $ uid $ uidNumber $ gidNumber $ homeDirectory Atributs Opcionals: userPassword $ loginShell $ gecos $ description `shadowAccount` Atributs Obligatoris: uid Atributs Opcionals: userPassword $ shadowLastChange $ shadowMin $ shadowMax $ shadowWarning $ shadowInactive $ shadowExpire $ shadowFlag $ description `top` Atributs Obligatoris: member $ cn Atributs Opcionals: businessCategory $ seeAlso $ owner $ ou $ o $ description 6 Encriptacio de contrasenya en arxius LDIF 6.1 Com ho faries per tal de crear un usuari amb un fitxer ldifi que el camp userPassword est\u00e9s encriptat amb md5? En primer lloc encriptem la contrasenya mab slappasswd -h {md5} i accedim la contrasenya. Ara afegim la contrasenya a l'apartat userPassword que hem obtingut avan\u00e7 al arxiu ldif Carreguem l'arxiu on hem afegit la contrasena encriptada anteriorment. Comprovem que podem accedir amb l'usuari creat anteriorment amb la contrasenya encriptada. Comprovem que esta enciptada amb slapcat . 7 Estructura jer\u00e0rquica de classes LDAP 7.1 Cerca algun esquema de tota l'estructura jer\u00e0rquica de classes del LDAP 8 Estructura de la comanda ldapadd 8.1 Quan afegeixes un objecte al directori amb la comanda ldapadd es posen diversos par\u00e0metres, explica per a qu\u00e8 serveix cadascun d'ells -X Utilitzem l'autenticaci\u00f3 simple en lloc de SASL. -c Mode de funcionament continu per reporten errors i poder veurels. -D Utilitzeu el Nom distingit binddn per unir-vos al directori LDAP. Per al vincle SASL, s'espera que el servidor ignori aquest valor. \"ruta completa de l'usuari admin\" -W Sol\u00b7liciteu una autenticaci\u00f3 senzilla. Aix\u00f2 s\u2019utilitza en lloc d\u2019especificar la contrasenya a la l\u00ednia d\u2019ordres. -f Llegir l'informaci\u00f3 de modificaci\u00f3 d\u2019entrada del fitxer en comptes d\u2019introduir l\u2019entrada normal. 9 Habilitar caracter als arxius LDIF 9.1 Com ho faries per tal de poder fer \u00fas d'accents i altres car\u00e0cters dintre dels fitxers ldif? Afegim els accents o altres caracter a l'arxiu ldif. Ara executem la comanda iconv -f iso-8859-1 -t utf-8 su.ldif per a que canvie el tipus de caracters. Comprovem que els accents els accepta, es mostren i apart podem accedir amb el nou usuari creat. 10 Importancia de l'ordre als atributs 10.1 Importa l'ordre dels atributs quan definim un objecte dintre d'un fitxer ldif? El ordre dins de l'arxiu ldif si que importa ja que t\u00e9 que cumplir el diseny de l'arbre d'informaci\u00f3 de directoris (DIT) , tamb\u00e9 cal complir algunes normes generals: Separa els elements amb una linia en blanc. Enumera els elements secundaris despr\u00e8s dels primers. Tenen que existir en el esquema elemnts com atributs o classes d'objectes, en cas de no existir s'auran danyadiral esquema per poder utilitzar-ho. Configuraci\u00f3 d'entorns grafics per a LDAP 1 Configuraci\u00f3 de Apache Directory Studio 1.1 Primer baixem el paquet de Apache Directory compatible amb el nostre SO. 1.2 Ara cal instal\u00b7lar el pauqet default-jre . 1.3 Ara fem doble clik sobre l'executable de Apache Directory i afegim el Servidor LDAP, amb New Connection . 1.4 Indiquem el nom de la connexi\u00f3, el nom de l'equip i el port per defecte de LDAP. 1.5 Ara afegim la ruta de l'usuari admin de LDAP i tamb\u00e9 indiquem la contrasenya. 1.6 Seguidament ens tornara a demanar el port i a m\u00e9s ens fara indica la IP del servidor. 1.7 Ara carreguem l'arxiu de dades mesdades.ldif per comandes. 1.8 Comprovem que s'ha creat correctament. 1.9 Creem una nova Entry . 1.10 Seleccionem la primera opci\u00f3. 1.11 Afegim les object class oportunes a una nova OU . 1.12 Indiquem la ruta pare i el nom de la OU asix. 1.13 Comprovem que s'ha creat els object class. 1.14 Ja podem observa que s'ha creat la OU correctament. 1.15 Ara creem els object class per ha un nou usuari. 1.16 Omplim amb informaci\u00f3 adient els valors dels object class. 1.17 Podem comprovar que s'ha creat l'usuari correctament. 1.18 Finalment accedim amb el client amb l'usuari creat anteriorment Joan . 2. Configuraci\u00f3 de Jxplorer 2.1 Instal\u00b7lem el paquet jxplorer i l'executem quan acave. 2.2 Primer configurem jxplorer per a que obtingue les dades de LDAP amb la IP fixa del servidor la ruta de l'admin i la contrasenya. 2.3 Ara procedim a crear un nou usuari de nom name , primer afegim els Object Class. 2.4 Comprovem que l'usuari s'ha creat correctament. 2.5 Ara accedim des de l'usuari de LDAP. 3. Configuraci\u00f3 de Phpldapadmin 3.1 Primer instal\u00b7lem el paquet de phpldapadmin. 3.2 Ara cal editar algunes linies de l'arxiu /usr/share/phpldapadmin/lib/functions.php , a la linia 54 cal afegir my_ davant de autoload. 3.3 Ara a la linia 1083 copiem el seguent text function __create_function($arg, $body) { static $cache = array(); static $maxCacheSize = 64; static $sorter; if ($sorter === NULL) { $sorter = function($a, $b) { if ($a- hits == $b- hits) { return 0; } return ($a- hits $b- hits) ? 1 : -1; }; } $crc = crc32($arg . \"\\\\x00\" . $body); if (isset($cache[$crc])) { ++$cache[$crc][1]; return $cache[$crc][0]; } if (sizeof($cache) = $maxCacheSize) { uasort($cache, $sorter); array_pop($cache); } $cache[$crc] = array($cb = eval('return function('.$arg.'){'.$body.'};'), 0); return $cb; } 3.4 Tamb\u00e9 a l'arxiu /etc/phpldapadmin/config.php cal canviar dc=example per el nom del servidor LDAP. 3.5 Comprovem que ens mostra l'estructura. 3.6 Creen un nou objecte i seleccionem usuari . 3.7 Omplim les dades necessaries de l'usuari. 3.8 Comprovem que s'ha creat correctament l'usuari. 3.9 Ara accedim amb l'usuari LDAP per comprovar que tot funciona correctamen. 4. Configuraci\u00f3 de LDAP Account Manager 4.1 Primer instal\u00b7lem el paquet ldap-account-manager 4.2 Ara accedim a localhost/lam i anem a la part superior dreta a la configuraci\u00f3. 4.3 Seguim i seleccionem Editar perfils . 4.4 Accedim amb lam/lam. 4.5 I configurem el nom del servidor LDAP. 4.6 Tamb\u00e9 configurem la ruta de l'admin. 4.7 I dins de tipos de perfils tambe indiquem eln nom del servidor LDAP. 4.8 Podem comprovar que ja surt l'esquema. 4.9 Anem a usuari i seleccionem nou usurai. 4.10 Creem l'usuari amb el nom i els UID. 4.12 Establim una contraasenya al nou usuari. 4.13 I ja podem comprovar amb l'usuari LDAP que podim accedir.","title":"Ubuntu"},{"location":"Ubuntu/#instalacio-i-configuracio-de-openldap","text":"","title":"Insta\u00b7laci\u00f3 i Configuraci\u00f3 de OpenLDAP"},{"location":"Ubuntu/#1-installa-openldap","text":"1. Crea un servidor amb OpenLDAP 1.1. Configuracions inicials al servidor En primer lloc configurem la xarxa, li donme una IP fixa al servidor. Tamb\u00e9 cal afegir la ip fixa m\u00e9s el nom del domini a l'arxiu /etc/hosts . 1.2. Instal\u00b7laci\u00f3 i configuraci\u00f3 dels paquets Instal\u00b7lem els paquets necessaris slapd ldap-utils -y . Despr\u00e9s executem la seguent comanda per configura el slapd . Omitim la configuraci\u00f3 del servidor OpenLDAP. Introduim el nom del domini lema.cat . Ara indiquem el nom de l'oraganitzaci\u00f3. I li donem una contrasenya. El motor de la BD la deixem per defecte MDB . Boorem la BD quan es purgen els paquets de slapd . Finalment Movem la BD antigua. 1.3. Creaci\u00f3 de l'esquema base amb un fitxer ldif Aquest exercici es realitzara en el seg\u00fcent punt.","title":"1 Instal\u00b7la OpenLDAP:"},{"location":"Ubuntu/#2-creacio-de-uogrups-i-usuaris-amb-fitxers-ldif","text":"2.1 Crea el domini, l'administrador, una uo, un grup i un usuari amb fitxers ldif Creem l'arxiu ldif per crear un grup. Creem l'arxiu ldif per crear una UO. Creem l'arxiu ldif per crear un usuari. Ara afegim la configuraci\u00f3 dels arxius ldif amb la seg\u00fcent comanda. Comprovem amb slapcat que tot s'ha creat correctament.","title":"2 Creaci\u00f3 de UO,grups i usuaris amb fitxers LDIF"},{"location":"Ubuntu/#3-configuracio-dun-client-openldap","text":"3.1 Valida un client al domini El primer pass es configura la xarxa del client donant-li una IP fixa hi ha la porta denlla\u00e7 la IP del servidor. Ara cal instal\u00b7lar els seguent paquets. Configurem els paquets instal\u00b7lats anteriorment, ara indiquem la ip del servidor. Indiquem el nom del domini creat al servidor. Seleccionem la versi\u00f3 3 de LDAP . Deixem per defecte el metode dencriptaci\u00f3. Seleccionem que volem establir el root local. Indiquem que no ens demane login a la LDPA BD . Afegim el nom d'usuari per al root. Afegim una contrasenya per al root. Ara editem l'arxiu /etc/snnwitch.conf i afegim ldap despres de compat tal com surt a la seg\u00fcent captura. Ara editem l'arxiu /etc/pam.d/common-session i canviem el umaks amb umaks=077 . Ara editem l'arxiu /etc/pam.d/common-password i borrem el camp seleccionat a la captura use_authok . Ara editem l'arxiu /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf i afegim greeter-show-manual-login=true . Reiniciem l'ordinador i ja ens podrem logejar amb l'usuari creat anteriorment dins de OpenLDAP.","title":"3 Configuraci\u00f3 d'un client OpenLDAP"},{"location":"Ubuntu/#4-esquema-referent-a-ldap","text":"4.1 Cerca la informaci\u00f3 referent als esquemes del LDAP que hem utilitzat quan hem creat la uo, el grup i l'usuari","title":"4 Esquema referent a LDAP"},{"location":"Ubuntu/#5-atributs-obligatoris-i-opcionals","text":"5.1 Quins s\u00f3n els atributs obligatoris i els opcionals per a les classes que hem treballat? Arxiu de grup. `posixGroup` Atributs Obligatoris: cn $ gidNumber Atributs Opcionals: userPassword $ memberUid $ member $ description `top` Atributs Obligatoris: member $ cn Atributs Opcionals: businessCategory $ seeAlso $ owner $ ou $ o $ description Arxiu de UO. `organizationalUnit` Atributs Obligatoris: ou Atributs Opcionals: userPassword $ searchGuide $ seeAlso $ businessCategory $ x121Address $ registeredAddress $ destinationIndicator $ preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $ telephoneNumber $ internationaliSDNNumber $ facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $ postalAddress $ physicalDeliveryOfficeName $ st $ l $ description `top` Atributs Obligatoris: member $ cn Atributs Opcionals: businessCategory $ seeAlso $ owner $ ou $ o $ description Arxiu d'usuaris. `inetOrgPerson` Atributs Obligatoris: - Atributs Opcionals: audio $ businessCategory $ carLicense $ departmentNumber $ displayName $ employeeNumber $ employeeType $ givenName $ homePhone $ homePostalAddress $ initials $ jpegPhoto $ labeledURI $ mail $ manager $ mobile $ o $ pager $ photo $ roomNumber $ secretary $ uid $ userCertificate $ x500uniqueIdentifier $ preferredLanguage $ userSMIMECertificate $ userPKCS12 `organizationalPerson` Atributs Obligatoris: - Atributs Opcionals: title $ x121Address $ registeredAddress $ destinationIndicator $ preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $ telephoneNumber $ internationaliSDNNumber $ facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $ postalAddress $ physicalDeliveryOfficeName $ ou $ st $ l `person` Atributs Obligatoris: - Atributs Opcionals: businessCategory $ x121Address $ registeredAddress $ destinationIndicator $ preferredDeliveryMethod $ telexNumber $ teletexTerminalIdentifier $ telephoneNumber $ internationaliSDNNumber $ facsimileTelephoneNumber $ street $ postOfficeBox $ postalCode $ postalAddress $ physicalDeliveryOfficeName $ st $ l `posixAccount` Atributs Obligatoris: cn $ uid $ uidNumber $ gidNumber $ homeDirectory Atributs Opcionals: userPassword $ loginShell $ gecos $ description `shadowAccount` Atributs Obligatoris: uid Atributs Opcionals: userPassword $ shadowLastChange $ shadowMin $ shadowMax $ shadowWarning $ shadowInactive $ shadowExpire $ shadowFlag $ description `top` Atributs Obligatoris: member $ cn Atributs Opcionals: businessCategory $ seeAlso $ owner $ ou $ o $ description","title":"5 Atributs Obligatoris i Opcionals"},{"location":"Ubuntu/#6-encriptacio-de-contrasenya-en-arxius-ldif","text":"6.1 Com ho faries per tal de crear un usuari amb un fitxer ldifi que el camp userPassword est\u00e9s encriptat amb md5? En primer lloc encriptem la contrasenya mab slappasswd -h {md5} i accedim la contrasenya. Ara afegim la contrasenya a l'apartat userPassword que hem obtingut avan\u00e7 al arxiu ldif Carreguem l'arxiu on hem afegit la contrasena encriptada anteriorment. Comprovem que podem accedir amb l'usuari creat anteriorment amb la contrasenya encriptada. Comprovem que esta enciptada amb slapcat .","title":"6 Encriptacio de contrasenya en arxius LDIF"},{"location":"Ubuntu/#7-estructura-jerarquica-de-classes-ldap","text":"7.1 Cerca algun esquema de tota l'estructura jer\u00e0rquica de classes del LDAP","title":"7 Estructura jer\u00e0rquica de classes LDAP"},{"location":"Ubuntu/#8-estructura-de-la-comanda-ldapadd","text":"8.1 Quan afegeixes un objecte al directori amb la comanda ldapadd es posen diversos par\u00e0metres, explica per a qu\u00e8 serveix cadascun d'ells -X Utilitzem l'autenticaci\u00f3 simple en lloc de SASL. -c Mode de funcionament continu per reporten errors i poder veurels. -D Utilitzeu el Nom distingit binddn per unir-vos al directori LDAP. Per al vincle SASL, s'espera que el servidor ignori aquest valor. \"ruta completa de l'usuari admin\" -W Sol\u00b7liciteu una autenticaci\u00f3 senzilla. Aix\u00f2 s\u2019utilitza en lloc d\u2019especificar la contrasenya a la l\u00ednia d\u2019ordres. -f Llegir l'informaci\u00f3 de modificaci\u00f3 d\u2019entrada del fitxer en comptes d\u2019introduir l\u2019entrada normal.","title":"8 Estructura de la comanda ldapadd"},{"location":"Ubuntu/#9-habilitar-caracter-als-arxius-ldif","text":"9.1 Com ho faries per tal de poder fer \u00fas d'accents i altres car\u00e0cters dintre dels fitxers ldif? Afegim els accents o altres caracter a l'arxiu ldif. Ara executem la comanda iconv -f iso-8859-1 -t utf-8 su.ldif per a que canvie el tipus de caracters. Comprovem que els accents els accepta, es mostren i apart podem accedir amb el nou usuari creat.","title":"9 Habilitar caracter als arxius LDIF"},{"location":"Ubuntu/#10-importancia-de-lordre-als-atributs","text":"10.1 Importa l'ordre dels atributs quan definim un objecte dintre d'un fitxer ldif? El ordre dins de l'arxiu ldif si que importa ja que t\u00e9 que cumplir el diseny de l'arbre d'informaci\u00f3 de directoris (DIT) , tamb\u00e9 cal complir algunes normes generals: Separa els elements amb una linia en blanc. Enumera els elements secundaris despr\u00e8s dels primers. Tenen que existir en el esquema elemnts com atributs o classes d'objectes, en cas de no existir s'auran danyadiral esquema per poder utilitzar-ho.","title":"10 Importancia de l'ordre als atributs"},{"location":"Ubuntu/#configuracio-dentorns-grafics-per-a-ldap","text":"","title":"Configuraci\u00f3 d'entorns grafics per a LDAP"},{"location":"Ubuntu/#1-configuracio-de-apache-directory-studio","text":"1.1 Primer baixem el paquet de Apache Directory compatible amb el nostre SO. 1.2 Ara cal instal\u00b7lar el pauqet default-jre . 1.3 Ara fem doble clik sobre l'executable de Apache Directory i afegim el Servidor LDAP, amb New Connection . 1.4 Indiquem el nom de la connexi\u00f3, el nom de l'equip i el port per defecte de LDAP. 1.5 Ara afegim la ruta de l'usuari admin de LDAP i tamb\u00e9 indiquem la contrasenya. 1.6 Seguidament ens tornara a demanar el port i a m\u00e9s ens fara indica la IP del servidor. 1.7 Ara carreguem l'arxiu de dades mesdades.ldif per comandes. 1.8 Comprovem que s'ha creat correctament. 1.9 Creem una nova Entry . 1.10 Seleccionem la primera opci\u00f3. 1.11 Afegim les object class oportunes a una nova OU . 1.12 Indiquem la ruta pare i el nom de la OU asix. 1.13 Comprovem que s'ha creat els object class. 1.14 Ja podem observa que s'ha creat la OU correctament. 1.15 Ara creem els object class per ha un nou usuari. 1.16 Omplim amb informaci\u00f3 adient els valors dels object class. 1.17 Podem comprovar que s'ha creat l'usuari correctament. 1.18 Finalment accedim amb el client amb l'usuari creat anteriorment Joan .","title":"1 Configuraci\u00f3 de Apache Directory Studio"},{"location":"Ubuntu/#2-configuracio-de-jxplorer","text":"2.1 Instal\u00b7lem el paquet jxplorer i l'executem quan acave. 2.2 Primer configurem jxplorer per a que obtingue les dades de LDAP amb la IP fixa del servidor la ruta de l'admin i la contrasenya. 2.3 Ara procedim a crear un nou usuari de nom name , primer afegim els Object Class. 2.4 Comprovem que l'usuari s'ha creat correctament. 2.5 Ara accedim des de l'usuari de LDAP.","title":"2. Configuraci\u00f3 de Jxplorer"},{"location":"Ubuntu/#3-configuracio-de-phpldapadmin","text":"3.1 Primer instal\u00b7lem el paquet de phpldapadmin. 3.2 Ara cal editar algunes linies de l'arxiu /usr/share/phpldapadmin/lib/functions.php , a la linia 54 cal afegir my_ davant de autoload. 3.3 Ara a la linia 1083 copiem el seguent text function __create_function($arg, $body) { static $cache = array(); static $maxCacheSize = 64; static $sorter; if ($sorter === NULL) { $sorter = function($a, $b) { if ($a- hits == $b- hits) { return 0; } return ($a- hits $b- hits) ? 1 : -1; }; } $crc = crc32($arg . \"\\\\x00\" . $body); if (isset($cache[$crc])) { ++$cache[$crc][1]; return $cache[$crc][0]; } if (sizeof($cache) = $maxCacheSize) { uasort($cache, $sorter); array_pop($cache); } $cache[$crc] = array($cb = eval('return function('.$arg.'){'.$body.'};'), 0); return $cb; } 3.4 Tamb\u00e9 a l'arxiu /etc/phpldapadmin/config.php cal canviar dc=example per el nom del servidor LDAP. 3.5 Comprovem que ens mostra l'estructura. 3.6 Creen un nou objecte i seleccionem usuari . 3.7 Omplim les dades necessaries de l'usuari. 3.8 Comprovem que s'ha creat correctament l'usuari. 3.9 Ara accedim amb l'usuari LDAP per comprovar que tot funciona correctamen.","title":"3. Configuraci\u00f3 de Phpldapadmin"},{"location":"Ubuntu/#4-configuracio-de-ldap-account-manager","text":"4.1 Primer instal\u00b7lem el paquet ldap-account-manager 4.2 Ara accedim a localhost/lam i anem a la part superior dreta a la configuraci\u00f3. 4.3 Seguim i seleccionem Editar perfils . 4.4 Accedim amb lam/lam. 4.5 I configurem el nom del servidor LDAP. 4.6 Tamb\u00e9 configurem la ruta de l'admin. 4.7 I dins de tipos de perfils tambe indiquem eln nom del servidor LDAP. 4.8 Podem comprovar que ja surt l'esquema. 4.9 Anem a usuari i seleccionem nou usurai. 4.10 Creem l'usuari amb el nom i els UID. 4.12 Establim una contraasenya al nou usuari. 4.13 I ja podem comprovar amb l'usuari LDAP que podim accedir.","title":"4. Configuraci\u00f3 de LDAP Account Manager"},{"location":"Windows/","text":"Insta\u00b7la Windows Server 12 - GUI i Core 1 Instal\u00b7la un servidor Windows Server 2012 amb GUI i: 1.1 Modifica el nom del servidor 1.2 Posa una ip fixa 1.3 Actualitza el sistema 1.4 Desactiva les actualitzacions 1.5 Treu les icones t\u00edpiques de l'escriptori 1.6 Instal\u00b7la les guestadditions 1.7 Desactiva el firewall 1.8 Comprova que la zona hor\u00e0ria sigui la correcta 1.9 Reinicia la m\u00e0quina i FES-TE UNA C\u00d2PIA DE SEGURETAT 2. Instal\u00b7la un servidor Windows Server 2012 sense GUI amb mode Core i: 2.1. Modifica el nom del servidor Ara editarem diferents apartats del servidor Windows 2012 amb la comanda sconfig . 1. Cal seleccionar el numero 2 per accedir a les opcions de cambiar el nom dels Servidor. 2. Despres ja podem escriure el nou nom KARIM-SERVER del servidor i reiniciem l'equip per a que s'apliquen els canvis. 2.2. Posa una ip fixa Ara afegirem una nova IP estatica utilitzant la comanda sconfig . 1. En primer lloc seleccionem el numero 8 per entrar a les opcions de red . 2. Despres seleccionem el numero 10 el qual serveix per indica el numero de de index de l'adaptador. 3. Ara cal indicar el numero 1 per indicar que volem establir una nova IP . 4. En aquest punt seleccionem e per indicar que volem afegir una IP estatica. 5. En l'ultim punt ja podrem observar com s'ha canviat la IP nova. 2.3. Desactiva les actualitzacions Ara desactivarem el firewall utilitzant la comanda sconfig . 1. Comen\u00e7em seleccionant el numero 5 per accedir a les opcions de actualitzacions. 2. Despres seleccionem m per indicar que les actualizacions siguen manuals i no automatiques. 2.4. Comprova que la zona hor\u00e0ria sigui la correcta Ara comprovarem que la zona hor\u00e0ria sigui la correcta utilitzant la comanda sconfig . 1. Per poder comprovar la zona horaria cal seleccionar el numero 9 . 2. Un cop seleccionat el numero corresponent ens surtira el rellotge hi ho podrem comprovar. 2.5. Reinicia la m\u00e0quina i FES-TE UNA C\u00d2PIA DE SEGURETAT Ara reiniciarem el servidor utilitzant la comanda sconfig . 1. Seleccionarem el numero 13 que serveix per reiniciar el servidor. 2. Un cop reiniciat fem una c\u00f2pia de seguretat fent una instantanea amb VirtualBox . 3. Treure una interficie gr\u00e0fica del servidor GUI 3.1. Treure la interf\u00edcie Shell de la m\u00e0quina amb GUI, o sigui, deixar nom\u00e9s una interf\u00edcie molt b\u00e0sica (has de fer-ho mitjan\u00e7ant l\u2019opci\u00f3 de \u201cQuitar roles y caracter\u00edsticas\u201d) En primer lloc seleccionem l'opci\u00f3 de Quitar roles y funciones que estroba a la part superior dins de Administrar . 1. Despres anem a l'apartat Caracteristicas . 2. Un cop dins deseleccionem l'opcio Windows PowerShell . 3. Ara ja podem seleccionar Quitar caracteristica per treure-la. Ara seleccionem l'opcio de reinici automatic i seguim amb el process. Ara hem desperar a que es carregue el process. Un cop reiniciat ja podrem gaudir del nostre servidor sense part Grafica. 4. Instal\u00b7la una interficie gr\u00e0fica al servidor Core 3.2. Afegir una interf\u00edcie molt b\u00e0sica a la m\u00e0quina amb Core (a continuaci\u00f3 tens les passes a seguir) 3.2.1. Afegim la .iso del server 3.2.2. Executem powershell 3.2.3. mkdir C:\\wim 3.2.4. Assignem la nostra versi\u00f3 amb dism /get-wiminfo /wimfile:d:\\sources\\install.wim 3.2.5. Muntem al directori creat ambdism /mount-wim /wimfile:d:\\sources\\install.wim /index:2 /mountdir:c:\\wim /readonly 3.2.6. Instal\u00b7lem amb Install-WindowsFeature Server-Gui-Mgmt-Infra \u2013Source C:\\wim \\Windows\\WinSxS 3.2.7. Reiniciem amb shutdown \u2013r \u2013t 0 Reiniciem i comprobem que ja esta instal\u00b7lat. 5. Copies de seguretat dels servidors Windows 2012 Administraci\u00f3 de Dominis W12 - GUI 1. Creaci\u00f3 de un bosc en un domini 1.1 Crea un nou bosc amb un nou domini. El domini s'ha de dir elteunom.cat, elteunom.com 2. Crear una UO amb grups i isuaris 2.1 Crea una UO anomenada recursos_humans i dintre dos grups anomenats alumnes i professors 3. Modificaci\u00f3 de les directives 3.1 Modifica les directives que fan refer\u00e8ncia a la pol\u00edtica de paraules de pas 4. Creaci\u00f3 de Grups i Usuaris 4. Crea dos usuaris dintre de cada grup, prova la pol\u00edtica de paraules de pas establerta en el pas anterior i decideix quin poden modificar la paraula de pas, si aquesta caduca... 5. Unir un equip a un Domini 5.1 Valida un equip client al domini En primer lloc cal treure el Firewall del Servidor i de l'eqip client. Un cop desactivat els Firellaws anem al client, i dins de les propietats de l'equip seleccionem Cambiar configuraci\u00f3n . Un cop dins de les propietats del sistema anem a l'opci\u00f3 Cambiar... . Ara li indiquem el nom del domini que en aquest cas es karim.cat i acceptem. Ara anem al Servidor i comprovem que l'equip s'ha unit al domini. 6. Establir un horari de connectivitat 6.1 Fes que un usuari nom\u00e9s es pugui connectar uns dies determinats. Qu\u00e8 passa si l\u2019usuari est\u00e0 connectat i finalitza el seu temps de connexi\u00f3? 7. Convertir un usuari local en Administrador 7.1 Fes que un usuari normal del domini pugui ser administrador d\u2019un equip local. Hi ha diverses formes de fer-ho. B\u00e0sicament \u00e9s fer el mateix, per\u00f2 des de l\u2019equip local o des del servidor. La difer\u00e8ncia seria si ho ha de fer l\u2019administrador del servidor o un usuari operador. Entre elles: Cal entrar a l\u2019equip localment, amb un usuari que tingui permisos i dir-li que l\u2019usuari X que pertany al domini formi part del grup d\u2019administradors locals de l\u2019equip. Des del Windows Server, clic dret a sobre l\u2019equip i Administrar. Boto dret sobre l'equip i selecconem Administrar . Ara afegirem al grup Administradores l'usuari karim . 1. El primer pas es accedir a la categoria Usuarios y grupos locales . 2. Ara seleccionem el grup Administradores boto dret i anem a Propietats. 3. Un cop dins de propipetats anem a Agregar . 4. Ara ja podem seleccionar el nostre usuari que en aquest cas es karim i guardem els canvis. Comprovem que l'usuari karim es troba dins del grup d'administradors. Per comprovar que l'usuari karim t\u00e9 els permissos de l'administrador anem a canviar l'hora de l'equip ja que nom\u00e9s \u00e9s pots fer amb permissos d'administrador. 8. Carpetes compartides amb diferents metodes 8.1 Carpetes dels usuaris que es connecten al domini. Quan un usuari es connecta al domini ha de tenir la seva carpeta amb els seus arxius (tot emmagatzemat al servidor, no localment) disponible d\u2019una forma f\u00e0cil o incl\u00fas transparent per a ell. Hi ha diverses formes de fer-ho, cadascuna amb les seves avantatges i inconvenients, tres formes podrien ser: Una primera manera de fer-ho seria: 1.1 Creem la carpeta de l\u2019usuari al servidor i la compartim nom\u00e9s per a l\u2019usuari amb els permisos corresponents. Deixem Documentos igual i cerquem la carpeta per la xarxa i la connectem com a unitat de xarxa Ara dins el servidor creem una carpeta compartida dins de la unitat de DADES . Ara anem a les propietats de l'usuario karim dins de perfil a carpetes compartides afegim la lletra de la unitat de disc i la ruta de la carpeta. Ara ja podem comprovar que ja s'ha compartit la carpeta compartida. A l\u2019ordinador (amb un usuari administrador) modifiquem la ruta de Documentos Anem a les propietats de la carpeta documentos i canviem la ruta per la careta compartida del servidor. Una segona manera podria ser: 2.1 Creem la carpeta de l\u2019usuari al servidor i la compartim nom\u00e9s per a l\u2019usuari amb els permisos corresponents i a la fitxa de l\u2019usuari, omplim el camp connectar de la seva carpeta, assignem una lletra i la ruta del recurs compartit. Per exemple: R: \\\\WIN2012\\personals\\%username% Creem la carpeta compartida de nom Perosnal i li donem permissos a l'usuari karim . Ara dins de propietats de l'usuari a perfil afegim la ruta de la carpeta compartida amb l'unitat de disc. Ara ja podem comprovar que la carpeta ja s'ha compartit correctament. Una tercera manera podria ser mitjan\u00e7an un script d'inici de sessi\u00f3: L'script cal que s'anomeni logon.bat Cal que estigui a una carpeta determinada Cal que indiques simplement el nom de l'script a la fitxa de perfil de l'usuari, a l'apartat Script de inicio de sesi\u00f3n I dintre de l'script nom\u00e9s has de posar una l\u00ednia que munta la unitat de xarxa del tipus net use Z: \\\\WIN2012\\personals\\%username% Ara ja podem comprovar que l'escript funciona al poder accedir 9. Creaci\u00f3 dun perfil m\u00f2bil 9.1 Crea un perfil m\u00f2bil i aplica'l a la resta d'usuaris 1. Crea a la C: una carpeta anomenada perfils_alumnes 2. Comparteix aquesta carpeta nom\u00e9s per al grup alumnes amb permisos de Control Total i per a l'Administrador tamb\u00e9 amb permisos de Control Total 3. Ves a un usuari alumne i al perfil introdueix la ruta del tipus `\\\\WIN2012\\ perfils_alumnes \\%username%` 4. Inicia sessi\u00f3 amb un usuari alumne en un equip client i comprova al servidor com es crea una carpeta dintre de perfils_alumnes amb el nom de l'usuari.v2 5. Per a qu\u00e8 serveix un perfil m\u00f2bil? 10 Perfils oabligatoris 10. Com faries si vols que aquest perfil sigui obligatori? Fes-ho i comprova que realment \u00e9s obligatori 1. Per a convertir un perfil m\u00f2bil en obligatori nom\u00e9s cal que entris dintre de la carpeta v2 de l'usuari que escolleixis, mostres els arxius ocults i que modifiques l'arxiu ntuser.dat a ntuser.man 2. Llavors quan un usuari inici\u00ef sessi\u00f3, faci canvis a l'escriptori... i tanqui sessi\u00f3 i torni a entrar, els canvis no s'hauran emmagatzemat Comandes CMD en Windows Server \"core\" 1 Copies de seguretat 1.1 Fes una copia de la m\u00e0quina Core 2 Comandes CMD 2.1 Els exercicis que realitzar\u00e0s a continuaci\u00f3 seran a trav\u00e9s del s\u00edmbol del sistema, o sigui del cmd. en una altra pr\u00e0ctica tornarem a fer el mateix, per\u00f2 mitjan\u00e7ant el powershell. 3 Configuraci\u00f3 amb sconfig 3.1 Comencem. Engega la m\u00e0quina Core i amb sconfig comprova que el nom de l'equip, el tallafocs, la ip fixa... que tot estigui com ha d'estar. Surt del sconfig. 4 Creaci\u00f3 d'arxius 4. Executa la comanda notepad parametres.txt Amb la comanda notepad nomarxiu.txt creem un arxiu i ens demana crear-ho si no esta creat anteriorment. 5 Afegir parametres d'instal\u00b7laci\u00f3 5.1 Escriu dintre del fitxer, despr\u00e9s desa els canvis i surt: [dcinstall] installdns=yes newdomain=forest newdomaindnsname=vesper.cat domainnetbiosname=vesper replicaornewdomain=domain safemodeadminpassword=Server2012 6 Instal\u00b7laci\u00f3 desatesa 6.1 Ara comen\u00e7arem la instal\u00b7laci\u00f3 desatesa amb dcpromo /unattend:parametres.txt Executem dcpromo /unattend:parametres.txt i esperem a que tot s'instale correctament i l'equip es reiniciara per aplicar els canvis. 7 Comprovaci\u00f3 amb systeminfo 7.1 Quan finalitzi la instal\u00b7laci\u00f3 executa systeminfo per a comprobar que el domini s'ha instal\u00b7lat correctament Podem comprovar que si que s'ha instal\u00b7lat el domini. Objectius **UOs, Usuaris i Grups** Ara, has de crear un uo, un grup i dos usuaris dintre del grup. Tant els usuaris com el grup han d'estar dintre de la uo. Una de les diverses maneres de poder fer tot aix\u00f2 \u00e9s amb els ds commands, aquestes comandes ds nom\u00e9s estan disponibles quan instal\u00b7lem un domini, i en aquesta pr\u00e0ctica ho farem aix\u00ed. 8 Creaci\u00f3 una UO amb core 8.1 Per exemple, per a crear una uo caldria fer: dsadd ou ou=alumnes,dc=vesper,dc=cat 9 Creaci\u00f3 d'un grup amb Core 9.1 I per a crear un grup dintre de la uo creada caldria fer: dsadd group \"cn=1rasix,ou=alumnes,dc=vesper,dc=cat\" -secgrp yes -scope L 10 Creaci\u00f3 d'un usuari amb Core 10.1 I per a crear un usuari: dsadd user \"cn=alumne1,ou=alumnes,dc=vesper,dc=cat\" -upn alumne1 -pwd Server2012 11 Afegir usuaris a grups 11.1 Ara investiga com ho faries per tal d'afegir l'usuari dintre del grup. Per afegitr un usauri al grup cal utilitzar la comanda dsmod group \"nomcompletdelgrup\" -addmbr \"nomcompletdelusuari\" . 12 Cosultar grups 12.1 Com ho faries per tal de consultar els grups d'una uo. Per consultar els grups de una UO cal executar la comanda dsquery group nomcompletdelaUO . 13 Consultar membres dels grups 13.1 Com ho faries per tal de consultar els membres d'un grup Per poder consultar el llistat d'usuaris d'un membre cal executar la comanda dsget group \"nomcompletdelgrup\" -members \"nomcompletdelusuari\" -membres -expand . 14 Prova diferents comandes 14.1 Has provat dsadd, dsquery i dsmod. Tens tamb\u00e9 disponibles dsmove, dsrm, dsget. Fes una prova amb cadascun d'ells. La comanda dsmove serveix per renombrar i moure grups, usuaris etc.. Un exemple d'us de la comanda es el seg\u00fcent en el qual canviem el nom del grup dsmove \"nomcompletgrup -newname \"nounom\"\" . 15 Probes amb un Client 15.1 Per tal de comprovar que tot el que has fet anteriorment funciona correctament, valida un client en aquest domini En primeres instancies unim el client al servidor lema.cat . Comprovem que ja s'ha unit correctament despr\u00e8s de reiniciar. Comandes amb cmdlets \"PowerShell\" 1 Copia de seguretat 1.1 Fes una copia de la m\u00e0quina Core 2 Comprovacions previes 2.1 Comencem. Engega la m\u00e0quina Core i amb sconfig comprova que el nom de l'equip, el tallafocs, la ip fixa... que tot estigui com ha d'estar. Surt del sconfig. 3 Iniciem PowerShell 3.1 Els exercicis que realitzar\u00e0s a continuaci\u00f3 seran a trav\u00e9s del powershell, o sigui dintre del cmd escriu powershell per a iniciar-lo. 4 Instal\u00b7lem els paquets necessaris 4.1 Executa la comanda install-windowsfeature -name ad-domain-services 5 Reinici 5.1 No cal reiniciar. 6 Instal\u00b7lem el nostre domini 6.1 Executa install-addsforest (vesper.cat), pot tardar una mica. Despr\u00e9s es reiniciar\u00e0. 7 Comprovaci\u00f3 del domini 7.1 sconfig per comprovar que la instal\u00b7laci\u00f3 del domini \u00e9s correcta. 8 Extreiem les comandes de Poershell 8.1 Torna a entrar a powershell i exeuta get-command per tal de veure tots els cmdlets disponibles 9 Extxtreiem les comandes de AD en Powershell 9.1 I per tal de veure els que fan refer\u00e8ncia nom\u00e9s al m\u00f2dul d'AD executa get-command -module activedirectory 10 Craci\u00f3 d'una UO amb Powershell 10.1 Crea la uo amb la comanda new-adorganizationalunit rrhh -path \"dc=vesper,dc=cat\" 11 Creaci\u00f3 d'un grup amb Powershell 11.1 Crea un grup dintre amb la comanda new-adgroup profes -path \"ou=rrhh,dc=vesper,dc=cat\" 12 Creaci\u00f3 d'un usuari amb Powershell 12.1 Crea un usuari 13 Afegir un usari a un grup amb Powershell 13.1 Afegeix l'usuari al grup 14 Modifica el nom d'un usuari amb Powershell 14.1 Modifica alguna cosa de l'usuari 15 Crear i borrar d'un grup amb Powershell 15.1 Crea un altre grup dintre de la uo anterior i despr\u00e9s esborra'l 16 Diferents comandes 16.1 Prova 5 comandes m\u00e9s i explica per a qu\u00e8 serveixen get-aduser ens mostra tots els usuaris que tenim. get-addomain ens mostra informaci\u00f3 del domini. Altres comandes poden ser set-addgroup que modifica les propietats dels grups, move-adobject que ens permet moure un objecte dun domini a un altre i finalment restore-adobject que permet restaura un objecte que s'ha eliminat. 17 Unim l'usuari al domini 17.1 Valida un client al domini per a comprovar que tot s'ha creat correctament. Podem comprovar que s'ha unit correctament l'equip al domini. Controladors de Dominis i Subdominis 1 Controlador de Domini de nom\u00e9s lectura (RODC) 1.1 Per al domini que tens instal\u00b7lat crea un RODC i fes les comprovacions necessaries per tal de verificar que funciona correctament, per exemple: 1. En primer lloc accedim als Serveis de domini i creem un RODC selcceionant la primera opci\u00f3 per nuirl-ho al Domini principal. 2. Ens aquesta captura afegim la contrasenya i seleccionem que el controlador de domini sigue RODC . 3. Despr\u00e8s deixem les opcions per defecte i seguim en l'instal\u00b7laci\u00f3. 4. Ara seleccionem que volem que sigue una replica del Domini principal. 5. Igual que com moltes instal\u00b7laci\u00f3ns en Windows anem fent Seg\u00fcent fins que ens sortigue per instal\u00b7lar. 6. Igual que com moltes instal\u00b7laci\u00f3ns en Windows anem fent Seg\u00fcent fins que ens sortigue per instal\u00b7lar. 7. Un cop arrivats a aquest punt seleccionem Instalar i esperem. 8. Ara ja podem comprovar que s'ha unit el RODC en mode nom\u00e9s lectura. Un cop instal\u00b7lat ens mostrara un avis que el domini es de nom\u00e9s elctura. Podem observa els permissos que t\u00e9 la maquina que conte el RODC . a. Si tanques el PDC pots continuar validant el client al domini i accedint als recursos del servidor Podem seguir validant i accedint als recursos. b. Al RODC nom\u00e9s pots consultar, NO crear noves entitats Com podem comprovar nnom\u00e9s tenim permisos de sols lectura. 2 Domini en el mateix Subdominis 2. Imagina\u2019t que tens el domini vesper.cat, doncs ara crea un subdomini del tipus info.vesper.cat o crea un altre domini, per\u00f2 dintre del mateix bosc. I si vols, crea les dues coses. Qu\u00e8 has de comprovar? Per exemple: 1. Ara afegim un domini secundari a un bosc existent, indiquem el nom i el domini principal. 2. Ara li donem una contrasenya al Subdomini. 3. Tornem a indicar el nom del Subdomini. 4. Ara ens mostrara un resum del configurat anteriorment. 5. Nom\u00e9s queda instal\u00b7lar el Subdomini. a. Si has creat un subdomini, has de veure si des del domini pots accedir a les entitats dels subdomini i gestionar-les, o \u00e9s a l\u2019inrev\u00e8s. Podem comprovar com accedim a les entitats del subdomini i Administrar el subdomini o a l'inversa. b. Si has creat un subdomini, prova de validar el client amb un usuari creat al subdomini. Un cop creat l'usuari al subdomini a la maquina client accedim amb nomdel'usuari@domini o subdomini . Un cop accedit podem comprovar que ha sigut creada a jlofa.lopez.cat Subdomini pero amb whoami podem observa que hem accedit amb lopez el Domini principal . c. Si has decidit crear un nou domini en el mateix bosc prova des d\u2019un domini pots accedir a l\u2019altre i gestionar les seves entitats, nom\u00e9s les pots veure o ni aix\u00f2 tampoc. d. Prova de validar-te al client amb un usuari del nou domini creat. 3 Relacions de confian\u00e7a Una relaci\u00f3 de confian\u00e7a \u00e9s la que et permet accedir amb els usuaris d\u2019un domini amb un client validat en un altre domini. Per exemple: si jo tinc els dominis vesper.cat amb l\u2019usuari vesper i miquel.com amb l\u2019usuari miquel. Si creo una relaci\u00f3 de confian\u00e7a bidireccional, llavors en un ordinador client validat al domini miquel.com, podr\u00e9 accedir al domini vesper.cat amb l\u2019usuari vesper. Doncs en aquest exercici has de prova aix\u00f2. Despr\u00e8s d'unir el Subdomi al Domini els i donme relaci\u00f3ns de confian\u00e7a Ara provem a accedir en diferents usuaris: Registrat amb el Subdomini accedim amb el domini i al contrari. Directives de grup (GPO) 1 Modificacio de la GPO en directiva d'usuari 1.1 Modifica la GPO del domini establint algun canvi en algun directiva d\u2019usuari. Habilitem que quan sinicie el explorador de archivos sigue en la pantalla completa. Ara comprovem que al iniciar el explorador de archivos al client es compleix correctament. 2 Modificacio de la GPO en directiva d'equip 2.1 Modifica la GPO del domini establint algun canvi en algun directiva d'equip. El proxim canvi es fer que l'usuari no pugue cambiar el color de les finestres. Comprovem que al intentar canviar el color ens dona error. 3 GPO d'inici per a equips i usuaris. 3.1 Crea una GPO d\u2019inici amb uns valors establerts per defecte per als equips i per als usuaris. Creem una GPO per defecte per al domini amb els valors per defecte als usuaris i els equips. 4 Creacio de una GPO per a una UO 4.1 Crea una nova GPO per a una UO que tinguis creada. Afegeix alguna modificaci\u00f3 de directives nova i contradiu alguna directiva que hagis aplicat al domini per veure qu\u00e8 passa. En primer lloc creem una GPO per a una UO en aquest cas informatica . Despr\u00e8s afegim una nova restricci\u00f3 que es que no es puguen obrir les finestres d'incognit i apliquem la contraria tamb\u00e9. Com podem comprovar ha fet cas a la primera restricci\u00f3, aixo es que per defecte fa cas sempre a la directiva que es troba m\u00e9s superior si hi ha dos que es contradixen. 5 Excloir una GPO a una UO 5.1 Prova d\u2019excloure d\u2019una GPO aplicada a una UO, algun usuari de la UO per veure qu\u00e8 passa. Ara excloiem a l'usuari joan de la GPO. Comprovem que ja s'ha tret. 6 Bloqueja herencia de directives 6.1 Prova de bloquejar l'her\u00e8ncia de directives Per bloquejar les herencies nom\u00e9s cal fer boto dret sobre la UO i seleccionem Bloquear hgerencia . 7 Exigir alguna directiva 7.1 Prova d\u2019exigir que es compleixi alguna directiva. En canvi per exigir que compleixi alguna directiva cal indicar dins de la GPO amb boto dret i seleccionem Exigido . Ens sortira aquest missatge i l'acceptem.","title":"Windows"},{"location":"Windows/#instala-windows-server-12-gui-i-core","text":"","title":"Insta\u00b7la Windows Server 12 - GUI i Core"},{"location":"Windows/#1-installa-un-servidor-windows-server-2012-amb-gui-i","text":"1.1 Modifica el nom del servidor 1.2 Posa una ip fixa 1.3 Actualitza el sistema 1.4 Desactiva les actualitzacions 1.5 Treu les icones t\u00edpiques de l'escriptori 1.6 Instal\u00b7la les guestadditions 1.7 Desactiva el firewall 1.8 Comprova que la zona hor\u00e0ria sigui la correcta 1.9 Reinicia la m\u00e0quina i FES-TE UNA C\u00d2PIA DE SEGURETAT","title":"1 Instal\u00b7la un servidor Windows Server 2012 amb GUI i:"},{"location":"Windows/#2-installa-un-servidor-windows-server-2012-sense-gui-amb-mode-core-i","text":"2.1. Modifica el nom del servidor Ara editarem diferents apartats del servidor Windows 2012 amb la comanda sconfig . 1. Cal seleccionar el numero 2 per accedir a les opcions de cambiar el nom dels Servidor. 2. Despres ja podem escriure el nou nom KARIM-SERVER del servidor i reiniciem l'equip per a que s'apliquen els canvis. 2.2. Posa una ip fixa Ara afegirem una nova IP estatica utilitzant la comanda sconfig . 1. En primer lloc seleccionem el numero 8 per entrar a les opcions de red . 2. Despres seleccionem el numero 10 el qual serveix per indica el numero de de index de l'adaptador. 3. Ara cal indicar el numero 1 per indicar que volem establir una nova IP . 4. En aquest punt seleccionem e per indicar que volem afegir una IP estatica. 5. En l'ultim punt ja podrem observar com s'ha canviat la IP nova. 2.3. Desactiva les actualitzacions Ara desactivarem el firewall utilitzant la comanda sconfig . 1. Comen\u00e7em seleccionant el numero 5 per accedir a les opcions de actualitzacions. 2. Despres seleccionem m per indicar que les actualizacions siguen manuals i no automatiques. 2.4. Comprova que la zona hor\u00e0ria sigui la correcta Ara comprovarem que la zona hor\u00e0ria sigui la correcta utilitzant la comanda sconfig . 1. Per poder comprovar la zona horaria cal seleccionar el numero 9 . 2. Un cop seleccionat el numero corresponent ens surtira el rellotge hi ho podrem comprovar. 2.5. Reinicia la m\u00e0quina i FES-TE UNA C\u00d2PIA DE SEGURETAT Ara reiniciarem el servidor utilitzant la comanda sconfig . 1. Seleccionarem el numero 13 que serveix per reiniciar el servidor. 2. Un cop reiniciat fem una c\u00f2pia de seguretat fent una instantanea amb VirtualBox .","title":"2. Instal\u00b7la un servidor Windows Server 2012 sense GUI amb mode Core i:"},{"location":"Windows/#3-treure-una-interficie-grafica-del-servidor-gui","text":"3.1. Treure la interf\u00edcie Shell de la m\u00e0quina amb GUI, o sigui, deixar nom\u00e9s una interf\u00edcie molt b\u00e0sica (has de fer-ho mitjan\u00e7ant l\u2019opci\u00f3 de \u201cQuitar roles y caracter\u00edsticas\u201d) En primer lloc seleccionem l'opci\u00f3 de Quitar roles y funciones que estroba a la part superior dins de Administrar . 1. Despres anem a l'apartat Caracteristicas . 2. Un cop dins deseleccionem l'opcio Windows PowerShell . 3. Ara ja podem seleccionar Quitar caracteristica per treure-la. Ara seleccionem l'opcio de reinici automatic i seguim amb el process. Ara hem desperar a que es carregue el process. Un cop reiniciat ja podrem gaudir del nostre servidor sense part Grafica.","title":"3. Treure una interficie gr\u00e0fica del servidor GUI"},{"location":"Windows/#4-installa-una-interficie-grafica-al-servidor-core","text":"3.2. Afegir una interf\u00edcie molt b\u00e0sica a la m\u00e0quina amb Core (a continuaci\u00f3 tens les passes a seguir) 3.2.1. Afegim la .iso del server 3.2.2. Executem powershell 3.2.3. mkdir C:\\wim 3.2.4. Assignem la nostra versi\u00f3 amb dism /get-wiminfo /wimfile:d:\\sources\\install.wim 3.2.5. Muntem al directori creat ambdism /mount-wim /wimfile:d:\\sources\\install.wim /index:2 /mountdir:c:\\wim /readonly 3.2.6. Instal\u00b7lem amb Install-WindowsFeature Server-Gui-Mgmt-Infra \u2013Source C:\\wim \\Windows\\WinSxS 3.2.7. Reiniciem amb shutdown \u2013r \u2013t 0 Reiniciem i comprobem que ja esta instal\u00b7lat.","title":"4. Instal\u00b7la una interficie gr\u00e0fica al servidor Core"},{"location":"Windows/#5-copies-de-seguretat-dels-servidors-windows-2012","text":"","title":"5. Copies de seguretat dels servidors Windows 2012"},{"location":"Windows/#administracio-de-dominis-w12-gui","text":"","title":"Administraci\u00f3 de Dominis W12 - GUI"},{"location":"Windows/#1-creacio-de-un-bosc-en-un-domini","text":"1.1 Crea un nou bosc amb un nou domini. El domini s'ha de dir elteunom.cat, elteunom.com","title":"1. Creaci\u00f3 de un bosc en un domini"},{"location":"Windows/#2-crear-una-uo-amb-grups-i-isuaris","text":"2.1 Crea una UO anomenada recursos_humans i dintre dos grups anomenats alumnes i professors","title":"2. Crear una UO amb grups i isuaris"},{"location":"Windows/#3-modificacio-de-les-directives","text":"3.1 Modifica les directives que fan refer\u00e8ncia a la pol\u00edtica de paraules de pas","title":"3. Modificaci\u00f3 de les directives"},{"location":"Windows/#4-creacio-de-grups-i-usuaris","text":"4. Crea dos usuaris dintre de cada grup, prova la pol\u00edtica de paraules de pas establerta en el pas anterior i decideix quin poden modificar la paraula de pas, si aquesta caduca...","title":"4. Creaci\u00f3 de Grups i Usuaris"},{"location":"Windows/#5-unir-un-equip-a-un-domini","text":"5.1 Valida un equip client al domini En primer lloc cal treure el Firewall del Servidor i de l'eqip client. Un cop desactivat els Firellaws anem al client, i dins de les propietats de l'equip seleccionem Cambiar configuraci\u00f3n . Un cop dins de les propietats del sistema anem a l'opci\u00f3 Cambiar... . Ara li indiquem el nom del domini que en aquest cas es karim.cat i acceptem. Ara anem al Servidor i comprovem que l'equip s'ha unit al domini.","title":"5. Unir un equip a un Domini"},{"location":"Windows/#6-establir-un-horari-de-connectivitat","text":"6.1 Fes que un usuari nom\u00e9s es pugui connectar uns dies determinats. Qu\u00e8 passa si l\u2019usuari est\u00e0 connectat i finalitza el seu temps de connexi\u00f3?","title":"6. Establir un horari de connectivitat"},{"location":"Windows/#7-convertir-un-usuari-local-en-administrador","text":"7.1 Fes que un usuari normal del domini pugui ser administrador d\u2019un equip local. Hi ha diverses formes de fer-ho. B\u00e0sicament \u00e9s fer el mateix, per\u00f2 des de l\u2019equip local o des del servidor. La difer\u00e8ncia seria si ho ha de fer l\u2019administrador del servidor o un usuari operador. Entre elles: Cal entrar a l\u2019equip localment, amb un usuari que tingui permisos i dir-li que l\u2019usuari X que pertany al domini formi part del grup d\u2019administradors locals de l\u2019equip. Des del Windows Server, clic dret a sobre l\u2019equip i Administrar. Boto dret sobre l'equip i selecconem Administrar . Ara afegirem al grup Administradores l'usuari karim . 1. El primer pas es accedir a la categoria Usuarios y grupos locales . 2. Ara seleccionem el grup Administradores boto dret i anem a Propietats. 3. Un cop dins de propipetats anem a Agregar . 4. Ara ja podem seleccionar el nostre usuari que en aquest cas es karim i guardem els canvis. Comprovem que l'usuari karim es troba dins del grup d'administradors. Per comprovar que l'usuari karim t\u00e9 els permissos de l'administrador anem a canviar l'hora de l'equip ja que nom\u00e9s \u00e9s pots fer amb permissos d'administrador.","title":"7. Convertir un usuari local en Administrador"},{"location":"Windows/#8-carpetes-compartides-amb-diferents-metodes","text":"8.1 Carpetes dels usuaris que es connecten al domini. Quan un usuari es connecta al domini ha de tenir la seva carpeta amb els seus arxius (tot emmagatzemat al servidor, no localment) disponible d\u2019una forma f\u00e0cil o incl\u00fas transparent per a ell. Hi ha diverses formes de fer-ho, cadascuna amb les seves avantatges i inconvenients, tres formes podrien ser: Una primera manera de fer-ho seria: 1.1 Creem la carpeta de l\u2019usuari al servidor i la compartim nom\u00e9s per a l\u2019usuari amb els permisos corresponents. Deixem Documentos igual i cerquem la carpeta per la xarxa i la connectem com a unitat de xarxa Ara dins el servidor creem una carpeta compartida dins de la unitat de DADES . Ara anem a les propietats de l'usuario karim dins de perfil a carpetes compartides afegim la lletra de la unitat de disc i la ruta de la carpeta. Ara ja podem comprovar que ja s'ha compartit la carpeta compartida. A l\u2019ordinador (amb un usuari administrador) modifiquem la ruta de Documentos Anem a les propietats de la carpeta documentos i canviem la ruta per la careta compartida del servidor. Una segona manera podria ser: 2.1 Creem la carpeta de l\u2019usuari al servidor i la compartim nom\u00e9s per a l\u2019usuari amb els permisos corresponents i a la fitxa de l\u2019usuari, omplim el camp connectar de la seva carpeta, assignem una lletra i la ruta del recurs compartit. Per exemple: R: \\\\WIN2012\\personals\\%username% Creem la carpeta compartida de nom Perosnal i li donem permissos a l'usuari karim . Ara dins de propietats de l'usuari a perfil afegim la ruta de la carpeta compartida amb l'unitat de disc. Ara ja podem comprovar que la carpeta ja s'ha compartit correctament. Una tercera manera podria ser mitjan\u00e7an un script d'inici de sessi\u00f3: L'script cal que s'anomeni logon.bat Cal que estigui a una carpeta determinada Cal que indiques simplement el nom de l'script a la fitxa de perfil de l'usuari, a l'apartat Script de inicio de sesi\u00f3n I dintre de l'script nom\u00e9s has de posar una l\u00ednia que munta la unitat de xarxa del tipus net use Z: \\\\WIN2012\\personals\\%username% Ara ja podem comprovar que l'escript funciona al poder accedir","title":"8. Carpetes compartides amb diferents metodes"},{"location":"Windows/#9-creacio-dun-perfil-mobil","text":"9.1 Crea un perfil m\u00f2bil i aplica'l a la resta d'usuaris 1. Crea a la C: una carpeta anomenada perfils_alumnes 2. Comparteix aquesta carpeta nom\u00e9s per al grup alumnes amb permisos de Control Total i per a l'Administrador tamb\u00e9 amb permisos de Control Total 3. Ves a un usuari alumne i al perfil introdueix la ruta del tipus `\\\\WIN2012\\ perfils_alumnes \\%username%` 4. Inicia sessi\u00f3 amb un usuari alumne en un equip client i comprova al servidor com es crea una carpeta dintre de perfils_alumnes amb el nom de l'usuari.v2 5. Per a qu\u00e8 serveix un perfil m\u00f2bil?","title":"9. Creaci\u00f3 dun perfil m\u00f2bil"},{"location":"Windows/#10-perfils-oabligatoris","text":"10. Com faries si vols que aquest perfil sigui obligatori? Fes-ho i comprova que realment \u00e9s obligatori 1. Per a convertir un perfil m\u00f2bil en obligatori nom\u00e9s cal que entris dintre de la carpeta v2 de l'usuari que escolleixis, mostres els arxius ocults i que modifiques l'arxiu ntuser.dat a ntuser.man 2. Llavors quan un usuari inici\u00ef sessi\u00f3, faci canvis a l'escriptori... i tanqui sessi\u00f3 i torni a entrar, els canvis no s'hauran emmagatzemat","title":"10 Perfils oabligatoris"},{"location":"Windows/#comandes-cmd-en-windows-server-core","text":"","title":"Comandes CMD en Windows Server \"core\""},{"location":"Windows/#1-copies-de-seguretat","text":"1.1 Fes una copia de la m\u00e0quina Core","title":"1 Copies de seguretat"},{"location":"Windows/#2-comandes-cmd","text":"2.1 Els exercicis que realitzar\u00e0s a continuaci\u00f3 seran a trav\u00e9s del s\u00edmbol del sistema, o sigui del cmd. en una altra pr\u00e0ctica tornarem a fer el mateix, per\u00f2 mitjan\u00e7ant el powershell.","title":"2 Comandes CMD"},{"location":"Windows/#3-configuracio-amb-sconfig","text":"3.1 Comencem. Engega la m\u00e0quina Core i amb sconfig comprova que el nom de l'equip, el tallafocs, la ip fixa... que tot estigui com ha d'estar. Surt del sconfig.","title":"3 Configuraci\u00f3 amb sconfig"},{"location":"Windows/#4-creacio-darxius","text":"4. Executa la comanda notepad parametres.txt Amb la comanda notepad nomarxiu.txt creem un arxiu i ens demana crear-ho si no esta creat anteriorment.","title":"4 Creaci\u00f3 d'arxius"},{"location":"Windows/#5-afegir-parametres-dinstallacio","text":"5.1 Escriu dintre del fitxer, despr\u00e9s desa els canvis i surt: [dcinstall] installdns=yes newdomain=forest newdomaindnsname=vesper.cat domainnetbiosname=vesper replicaornewdomain=domain safemodeadminpassword=Server2012","title":"5 Afegir parametres d'instal\u00b7laci\u00f3"},{"location":"Windows/#6-installacio-desatesa","text":"6.1 Ara comen\u00e7arem la instal\u00b7laci\u00f3 desatesa amb dcpromo /unattend:parametres.txt Executem dcpromo /unattend:parametres.txt i esperem a que tot s'instale correctament i l'equip es reiniciara per aplicar els canvis.","title":"6 Instal\u00b7laci\u00f3 desatesa"},{"location":"Windows/#7-comprovacio-amb-systeminfo","text":"7.1 Quan finalitzi la instal\u00b7laci\u00f3 executa systeminfo per a comprobar que el domini s'ha instal\u00b7lat correctament Podem comprovar que si que s'ha instal\u00b7lat el domini.","title":"7 Comprovaci\u00f3 amb systeminfo"},{"location":"Windows/#objectius","text":"**UOs, Usuaris i Grups** Ara, has de crear un uo, un grup i dos usuaris dintre del grup. Tant els usuaris com el grup han d'estar dintre de la uo. Una de les diverses maneres de poder fer tot aix\u00f2 \u00e9s amb els ds commands, aquestes comandes ds nom\u00e9s estan disponibles quan instal\u00b7lem un domini, i en aquesta pr\u00e0ctica ho farem aix\u00ed.","title":"Objectius"},{"location":"Windows/#8-creacio-una-uo-amb-core","text":"8.1 Per exemple, per a crear una uo caldria fer: dsadd ou ou=alumnes,dc=vesper,dc=cat","title":"8 Creaci\u00f3 una UO amb core"},{"location":"Windows/#9-creacio-dun-grup-amb-core","text":"9.1 I per a crear un grup dintre de la uo creada caldria fer: dsadd group \"cn=1rasix,ou=alumnes,dc=vesper,dc=cat\" -secgrp yes -scope L","title":"9 Creaci\u00f3 d'un grup amb Core"},{"location":"Windows/#10-creacio-dun-usuari-amb-core","text":"10.1 I per a crear un usuari: dsadd user \"cn=alumne1,ou=alumnes,dc=vesper,dc=cat\" -upn alumne1 -pwd Server2012","title":"10 Creaci\u00f3 d'un usuari amb Core"},{"location":"Windows/#11-afegir-usuaris-a-grups","text":"11.1 Ara investiga com ho faries per tal d'afegir l'usuari dintre del grup. Per afegitr un usauri al grup cal utilitzar la comanda dsmod group \"nomcompletdelgrup\" -addmbr \"nomcompletdelusuari\" .","title":"11 Afegir usuaris a grups"},{"location":"Windows/#12-cosultar-grups","text":"12.1 Com ho faries per tal de consultar els grups d'una uo. Per consultar els grups de una UO cal executar la comanda dsquery group nomcompletdelaUO .","title":"12 Cosultar grups"},{"location":"Windows/#13-consultar-membres-dels-grups","text":"13.1 Com ho faries per tal de consultar els membres d'un grup Per poder consultar el llistat d'usuaris d'un membre cal executar la comanda dsget group \"nomcompletdelgrup\" -members \"nomcompletdelusuari\" -membres -expand .","title":"13 Consultar membres dels grups"},{"location":"Windows/#14-prova-diferents-comandes","text":"14.1 Has provat dsadd, dsquery i dsmod. Tens tamb\u00e9 disponibles dsmove, dsrm, dsget. Fes una prova amb cadascun d'ells. La comanda dsmove serveix per renombrar i moure grups, usuaris etc.. Un exemple d'us de la comanda es el seg\u00fcent en el qual canviem el nom del grup dsmove \"nomcompletgrup -newname \"nounom\"\" .","title":"14 Prova diferents comandes"},{"location":"Windows/#15-probes-amb-un-client","text":"15.1 Per tal de comprovar que tot el que has fet anteriorment funciona correctament, valida un client en aquest domini En primeres instancies unim el client al servidor lema.cat . Comprovem que ja s'ha unit correctament despr\u00e8s de reiniciar.","title":"15 Probes amb un Client"},{"location":"Windows/#comandes-amb-cmdlets-powershell","text":"","title":"Comandes amb cmdlets \"PowerShell\""},{"location":"Windows/#1-copia-de-seguretat","text":"1.1 Fes una copia de la m\u00e0quina Core","title":"1 Copia de seguretat"},{"location":"Windows/#2-comprovacions-previes","text":"2.1 Comencem. Engega la m\u00e0quina Core i amb sconfig comprova que el nom de l'equip, el tallafocs, la ip fixa... que tot estigui com ha d'estar. Surt del sconfig.","title":"2 Comprovacions previes"},{"location":"Windows/#3-iniciem-powershell","text":"3.1 Els exercicis que realitzar\u00e0s a continuaci\u00f3 seran a trav\u00e9s del powershell, o sigui dintre del cmd escriu powershell per a iniciar-lo.","title":"3 Iniciem PowerShell"},{"location":"Windows/#4-installem-els-paquets-necessaris","text":"4.1 Executa la comanda install-windowsfeature -name ad-domain-services","title":"4 Instal\u00b7lem els paquets necessaris"},{"location":"Windows/#5-reinici","text":"5.1 No cal reiniciar.","title":"5 Reinici"},{"location":"Windows/#6-installem-el-nostre-domini","text":"6.1 Executa install-addsforest (vesper.cat), pot tardar una mica. Despr\u00e9s es reiniciar\u00e0.","title":"6 Instal\u00b7lem el nostre domini"},{"location":"Windows/#7-comprovacio-del-domini","text":"7.1 sconfig per comprovar que la instal\u00b7laci\u00f3 del domini \u00e9s correcta.","title":"7 Comprovaci\u00f3 del domini"},{"location":"Windows/#8-extreiem-les-comandes-de-poershell","text":"8.1 Torna a entrar a powershell i exeuta get-command per tal de veure tots els cmdlets disponibles","title":"8 Extreiem les comandes de Poershell"},{"location":"Windows/#9-extxtreiem-les-comandes-de-ad-en-powershell","text":"9.1 I per tal de veure els que fan refer\u00e8ncia nom\u00e9s al m\u00f2dul d'AD executa get-command -module activedirectory","title":"9 Extxtreiem les comandes de AD en Powershell"},{"location":"Windows/#10-cracio-duna-uo-amb-powershell","text":"10.1 Crea la uo amb la comanda new-adorganizationalunit rrhh -path \"dc=vesper,dc=cat\"","title":"10 Craci\u00f3 d'una UO amb Powershell"},{"location":"Windows/#11-creacio-dun-grup-amb-powershell","text":"11.1 Crea un grup dintre amb la comanda new-adgroup profes -path \"ou=rrhh,dc=vesper,dc=cat\"","title":"11 Creaci\u00f3 d'un grup amb Powershell"},{"location":"Windows/#12-creacio-dun-usuari-amb-powershell","text":"12.1 Crea un usuari","title":"12 Creaci\u00f3 d'un usuari amb Powershell"},{"location":"Windows/#13-afegir-un-usari-a-un-grup-amb-powershell","text":"13.1 Afegeix l'usuari al grup","title":"13 Afegir un usari a un grup amb Powershell"},{"location":"Windows/#14-modifica-el-nom-dun-usuari-amb-powershell","text":"14.1 Modifica alguna cosa de l'usuari","title":"14 Modifica el nom d'un usuari amb Powershell"},{"location":"Windows/#15-crear-i-borrar-dun-grup-amb-powershell","text":"15.1 Crea un altre grup dintre de la uo anterior i despr\u00e9s esborra'l","title":"15 Crear i borrar d'un grup amb Powershell"},{"location":"Windows/#16-diferents-comandes","text":"16.1 Prova 5 comandes m\u00e9s i explica per a qu\u00e8 serveixen get-aduser ens mostra tots els usuaris que tenim. get-addomain ens mostra informaci\u00f3 del domini. Altres comandes poden ser set-addgroup que modifica les propietats dels grups, move-adobject que ens permet moure un objecte dun domini a un altre i finalment restore-adobject que permet restaura un objecte que s'ha eliminat.","title":"16 Diferents comandes"},{"location":"Windows/#17-unim-lusuari-al-domini","text":"17.1 Valida un client al domini per a comprovar que tot s'ha creat correctament. Podem comprovar que s'ha unit correctament l'equip al domini.","title":"17 Unim l'usuari al domini"},{"location":"Windows/#controladors-de-dominis-i-subdominis","text":"","title":"Controladors de Dominis i Subdominis"},{"location":"Windows/#1-controlador-de-domini-de-nomes-lectura-rodc","text":"1.1 Per al domini que tens instal\u00b7lat crea un RODC i fes les comprovacions necessaries per tal de verificar que funciona correctament, per exemple: 1. En primer lloc accedim als Serveis de domini i creem un RODC selcceionant la primera opci\u00f3 per nuirl-ho al Domini principal. 2. Ens aquesta captura afegim la contrasenya i seleccionem que el controlador de domini sigue RODC . 3. Despr\u00e8s deixem les opcions per defecte i seguim en l'instal\u00b7laci\u00f3. 4. Ara seleccionem que volem que sigue una replica del Domini principal. 5. Igual que com moltes instal\u00b7laci\u00f3ns en Windows anem fent Seg\u00fcent fins que ens sortigue per instal\u00b7lar. 6. Igual que com moltes instal\u00b7laci\u00f3ns en Windows anem fent Seg\u00fcent fins que ens sortigue per instal\u00b7lar. 7. Un cop arrivats a aquest punt seleccionem Instalar i esperem. 8. Ara ja podem comprovar que s'ha unit el RODC en mode nom\u00e9s lectura. Un cop instal\u00b7lat ens mostrara un avis que el domini es de nom\u00e9s elctura. Podem observa els permissos que t\u00e9 la maquina que conte el RODC . a. Si tanques el PDC pots continuar validant el client al domini i accedint als recursos del servidor Podem seguir validant i accedint als recursos. b. Al RODC nom\u00e9s pots consultar, NO crear noves entitats Com podem comprovar nnom\u00e9s tenim permisos de sols lectura.","title":"1 Controlador de Domini de nom\u00e9s lectura (RODC)"},{"location":"Windows/#2-domini-en-el-mateix-subdominis","text":"2. Imagina\u2019t que tens el domini vesper.cat, doncs ara crea un subdomini del tipus info.vesper.cat o crea un altre domini, per\u00f2 dintre del mateix bosc. I si vols, crea les dues coses. Qu\u00e8 has de comprovar? Per exemple: 1. Ara afegim un domini secundari a un bosc existent, indiquem el nom i el domini principal. 2. Ara li donem una contrasenya al Subdomini. 3. Tornem a indicar el nom del Subdomini. 4. Ara ens mostrara un resum del configurat anteriorment. 5. Nom\u00e9s queda instal\u00b7lar el Subdomini. a. Si has creat un subdomini, has de veure si des del domini pots accedir a les entitats dels subdomini i gestionar-les, o \u00e9s a l\u2019inrev\u00e8s. Podem comprovar com accedim a les entitats del subdomini i Administrar el subdomini o a l'inversa. b. Si has creat un subdomini, prova de validar el client amb un usuari creat al subdomini. Un cop creat l'usuari al subdomini a la maquina client accedim amb nomdel'usuari@domini o subdomini . Un cop accedit podem comprovar que ha sigut creada a jlofa.lopez.cat Subdomini pero amb whoami podem observa que hem accedit amb lopez el Domini principal . c. Si has decidit crear un nou domini en el mateix bosc prova des d\u2019un domini pots accedir a l\u2019altre i gestionar les seves entitats, nom\u00e9s les pots veure o ni aix\u00f2 tampoc. d. Prova de validar-te al client amb un usuari del nou domini creat.","title":"2 Domini en el mateix Subdominis"},{"location":"Windows/#3-relacions-de-confianca","text":"Una relaci\u00f3 de confian\u00e7a \u00e9s la que et permet accedir amb els usuaris d\u2019un domini amb un client validat en un altre domini. Per exemple: si jo tinc els dominis vesper.cat amb l\u2019usuari vesper i miquel.com amb l\u2019usuari miquel. Si creo una relaci\u00f3 de confian\u00e7a bidireccional, llavors en un ordinador client validat al domini miquel.com, podr\u00e9 accedir al domini vesper.cat amb l\u2019usuari vesper. Doncs en aquest exercici has de prova aix\u00f2. Despr\u00e8s d'unir el Subdomi al Domini els i donme relaci\u00f3ns de confian\u00e7a Ara provem a accedir en diferents usuaris: Registrat amb el Subdomini accedim amb el domini i al contrari.","title":"3 Relacions de confian\u00e7a"},{"location":"Windows/#directives-de-grup-gpo","text":"","title":"Directives de grup (GPO)"},{"location":"Windows/#1-modificacio-de-la-gpo-en-directiva-dusuari","text":"1.1 Modifica la GPO del domini establint algun canvi en algun directiva d\u2019usuari. Habilitem que quan sinicie el explorador de archivos sigue en la pantalla completa. Ara comprovem que al iniciar el explorador de archivos al client es compleix correctament.","title":"1 Modificacio de la GPO en directiva d'usuari"},{"location":"Windows/#2-modificacio-de-la-gpo-en-directiva-dequip","text":"2.1 Modifica la GPO del domini establint algun canvi en algun directiva d'equip. El proxim canvi es fer que l'usuari no pugue cambiar el color de les finestres. Comprovem que al intentar canviar el color ens dona error.","title":"2 Modificacio de la GPO en directiva d'equip"},{"location":"Windows/#3-gpo-dinici-per-a-equips-i-usuaris","text":"3.1 Crea una GPO d\u2019inici amb uns valors establerts per defecte per als equips i per als usuaris. Creem una GPO per defecte per al domini amb els valors per defecte als usuaris i els equips.","title":"3 GPO d'inici per a equips i usuaris."},{"location":"Windows/#4-creacio-de-una-gpo-per-a-una-uo","text":"4.1 Crea una nova GPO per a una UO que tinguis creada. Afegeix alguna modificaci\u00f3 de directives nova i contradiu alguna directiva que hagis aplicat al domini per veure qu\u00e8 passa. En primer lloc creem una GPO per a una UO en aquest cas informatica . Despr\u00e8s afegim una nova restricci\u00f3 que es que no es puguen obrir les finestres d'incognit i apliquem la contraria tamb\u00e9. Com podem comprovar ha fet cas a la primera restricci\u00f3, aixo es que per defecte fa cas sempre a la directiva que es troba m\u00e9s superior si hi ha dos que es contradixen.","title":"4 Creacio de una GPO per a una UO"},{"location":"Windows/#5-excloir-una-gpo-a-una-uo","text":"5.1 Prova d\u2019excloure d\u2019una GPO aplicada a una UO, algun usuari de la UO per veure qu\u00e8 passa. Ara excloiem a l'usuari joan de la GPO. Comprovem que ja s'ha tret.","title":"5 Excloir una GPO a una UO"},{"location":"Windows/#6-bloqueja-herencia-de-directives","text":"6.1 Prova de bloquejar l'her\u00e8ncia de directives Per bloquejar les herencies nom\u00e9s cal fer boto dret sobre la UO i seleccionem Bloquear hgerencia .","title":"6 Bloqueja herencia de directives"},{"location":"Windows/#7-exigir-alguna-directiva","text":"7.1 Prova d\u2019exigir que es compleixi alguna directiva. En canvi per exigir que compleixi alguna directiva cal indicar dins de la GPO amb boto dret i seleccionem Exigido . Ens sortira aquest missatge i l'acceptem.","title":"7 Exigir alguna directiva"}]}